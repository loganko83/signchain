import{j as e}from"./ui-vendor-DtKnxXw5.js";import{r as H}from"./react-vendor-Dzt9N-8P.js";import{T as j,o as u,p as h,B as n,r as N,C as B,d as S,e as z,a as M,S as o}from"./index-DifXOlZV.js";import{B as E}from"./badge-rnGWDgP8.js";import{C as a}from"./circle-check-big-DmYyX7eJ.js";import{C as b}from"./copy-DmFTctZJ.js";import{E as y}from"./external-link-BWsmJ6ag.js";import{H as i}from"./index-BKvQmfCR.js";import{C as L}from"./circle-alert-Dm7xIx_l.js";import{C as $}from"./clock-DuONhkx9.js";const J=({hashInfo:s,title:w,showDetails:C=!0,compact:f=!1})=>{const[l,d]=H.useState(!1),m=async()=>{try{await navigator.clipboard.writeText(s.transactionHash),d(!0),setTimeout(()=>d(!1),2e3)}catch(r){console.error("Failed to copy hash:",r)}},x=(r,t)=>{const c={xphere:`https://explorer.xphere.io/tx/${r}`,ethereum:`https://etherscan.io/tx/${r}`,polygon:`https://polygonscan.com/tx/${r}`,bsc:`https://bscscan.com/tx/${r}`},T=(t==null?void 0:t.toLowerCase())||"xphere";return c[T]||c.xphere},p=r=>{const c={document:o,signature:a,contract:i,approval:a,did:o,payment:i,auth:o}[r]||i;return e.jsx(c,{className:"w-4 h-4"})},g=r=>({document:"문서 등록",signature:"전자서명",contract:"계약서",approval:"결재",did:"DID 인증",payment:"결제",auth:"인증"})[r]||"블록체인 기록",v=r=>{switch(r){case"confirmed":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"failed":return"bg-red-100 text-red-800 border-red-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},k=r=>{switch(r){case"confirmed":return e.jsx(a,{className:"w-3 h-3"});case"pending":return e.jsx($,{className:"w-3 h-3"});case"failed":return e.jsx(L,{className:"w-3 h-3"});default:return e.jsx(i,{className:"w-3 h-3"})}};return f?e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[p(s.type),e.jsx("span",{children:g(s.type)})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-1 min-w-0",children:[e.jsx("code",{className:"text-xs font-mono text-gray-800 truncate",children:s.transactionHash}),e.jsx(j,{children:e.jsxs(u,{children:[e.jsx(h,{asChild:!0,children:e.jsx(n,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:m,children:l?e.jsx(a,{className:"w-3 h-3 text-green-600"}):e.jsx(b,{className:"w-3 h-3"})})}),e.jsx(N,{children:e.jsx("p",{children:l?"복사됨!":"해시 복사"})})]})})]}),e.jsx(n,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",asChild:!0,children:e.jsx("a",{href:x(s.transactionHash,s.network),target:"_blank",rel:"noopener noreferrer",children:e.jsx(y,{className:"w-3 h-3"})})})]}):e.jsxs(B,{className:"border-blue-200 bg-blue-50/30",children:[e.jsx(S,{className:"pb-3",children:e.jsxs(z,{className:"flex items-center gap-2 text-sm font-medium",children:[p(s.type),e.jsx("span",{children:w||`${g(s.type)} 블록체인 증빙`}),s.status&&e.jsxs(E,{variant:"outline",className:v(s.status),children:[k(s.status),e.jsx("span",{className:"ml-1 capitalize",children:s.status==="confirmed"?"확인됨":s.status==="pending"?"대기중":"실패"})]})]})}),e.jsxs(M,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-medium text-gray-600",children:"트랜잭션 해시"}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white rounded-md border",children:[e.jsx("code",{className:"flex-1 text-xs font-mono text-gray-800 break-all",children:s.transactionHash}),e.jsx(j,{children:e.jsxs(u,{children:[e.jsx(h,{asChild:!0,children:e.jsx(n,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:m,children:l?e.jsx(a,{className:"w-4 h-4 text-green-600"}):e.jsx(b,{className:"w-4 h-4"})})}),e.jsx(N,{children:e.jsx("p",{children:l?"복사됨!":"해시 복사"})})]})})]})]}),C&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[s.blockNumber&&e.jsxs("div",{children:[e.jsx("label",{className:"font-medium text-gray-600",children:"블록 번호"}),e.jsx("p",{className:"font-mono",children:s.blockNumber.toLocaleString()})]}),s.network&&e.jsxs("div",{children:[e.jsx("label",{className:"font-medium text-gray-600",children:"네트워크"}),e.jsx("p",{className:"capitalize",children:s.network})]}),s.confirmations&&e.jsxs("div",{children:[e.jsx("label",{className:"font-medium text-gray-600",children:"확인 횟수"}),e.jsx("p",{children:s.confirmations})]}),s.timestamp&&e.jsxs("div",{children:[e.jsx("label",{className:"font-medium text-gray-600",children:"타임스탬프"}),e.jsx("p",{children:new Date(s.timestamp).toLocaleString("ko-KR")})]}),s.gasUsed&&e.jsxs("div",{children:[e.jsx("label",{className:"font-medium text-gray-600",children:"가스 사용량"}),e.jsx("p",{className:"font-mono",children:s.gasUsed})]}),s.gasFee&&e.jsxs("div",{children:[e.jsx("label",{className:"font-medium text-gray-600",children:"가스비"}),e.jsx("p",{className:"font-mono",children:s.gasFee})]})]}),e.jsx("div",{className:"pt-2 border-t border-gray-200",children:e.jsx(n,{variant:"outline",size:"sm",className:"w-full",asChild:!0,children:e.jsxs("a",{href:x(s.transactionHash,s.network),target:"_blank",rel:"noopener noreferrer",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"블록체인 익스플로러에서 확인"]})})})]})]})]})};function O(){return"0x"+Array.from({length:64},()=>Math.floor(Math.random()*16).toString(16)).join("")}function Q(){return Math.floor(Math.random()*1e6)+15e6}export{J as B,Q as a,O as g};
