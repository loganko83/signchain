import{j as e}from"./ui-vendor-DTWk086U.js";import{u as w,r as C,L as i}from"./react-vendor-Dzt9N-8P.js";import{u as F,F as v,a as m,b as o,c as d,d as x,e as h,t as L,l as S}from"./schema-cQn62vdd.js";import{u as M,b as A,F as k,C as j,c as E,d as I,e as T,a as p,A as B,f as D,I as u,B as V,L as H}from"./index-D4IKHWqB.js";import{C as R}from"./checkbox-C77GOkou.js";import"./api-CuCeq-4F.js";import"./utils-B2rm_Apj.js";import"./index-DPahxWVS.js";import"./check-lTZl_lYF.js";function W(){const[,l]=w(),{login:b,isLoading:f,isAuthenticated:g}=M(),{toast:N}=A(),[n,t]=C.useState(null);if(g)return l("/dashboard"),null;const r=F({resolver:L(S),defaultValues:{email:"",password:"",rememberMe:!1}}),y=async s=>{t(null);try{await b(s.email,s.password,s.rememberMe)?(N({title:"로그인 성공",description:"환영합니다!"}),l("/dashboard")):t("이메일 또는 비밀번호가 올바르지 않습니다.")}catch(c){console.error("Login error:",c),t("로그인 중 오류가 발생했습니다. 다시 시도해주세요.")}},a=f||r.formState.isSubmitting;return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"w-full max-w-md space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs(i,{href:"/",className:"inline-flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:e.jsx(k,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"SignChain"})]}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"로그인"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["계정이 없으신가요?"," ",e.jsx(i,{href:"/register",className:"font-medium text-primary hover:text-primary/80",children:"회원가입"})]})]}),e.jsxs(j,{children:[e.jsxs(E,{children:[e.jsx(I,{children:"로그인"}),e.jsx(T,{children:"SignChain 계정으로 로그인하세요"})]}),e.jsxs(p,{children:[n&&e.jsx(B,{className:"mb-6",variant:"destructive",children:e.jsx(D,{children:n})}),e.jsx(v,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(y),className:"space-y-4",children:[e.jsx(m,{control:r.control,name:"email",render:({field:s})=>e.jsxs(o,{children:[e.jsx(d,{children:"이메일"}),e.jsx(x,{children:e.jsx(u,{type:"email",placeholder:"이메일을 입력하세요",...s,disabled:a})}),e.jsx(h,{})]})}),e.jsx(m,{control:r.control,name:"password",render:({field:s})=>e.jsxs(o,{children:[e.jsx(d,{children:"비밀번호"}),e.jsx(x,{children:e.jsx(u,{type:"password",placeholder:"비밀번호를 입력하세요",...s,disabled:a})}),e.jsx(h,{})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R,{id:"rememberMe",checked:r.watch("rememberMe"),onCheckedChange:s=>r.setValue("rememberMe",s),disabled:a}),e.jsx("label",{htmlFor:"rememberMe",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"로그인 상태 유지"})]}),e.jsx(V,{type:"submit",className:"w-full",disabled:a,children:a?e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"mr-2 h-4 w-4 animate-spin"}),"로그인 중..."]}):"로그인"})]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(i,{href:"/forgot-password",className:"text-sm text-primary hover:text-primary/80",children:"비밀번호를 잊으셨나요?"})})]})]}),e.jsx(j,{className:"bg-blue-50 border-blue-200",children:e.jsxs(p,{className:"pt-6",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"데모 계정"}),e.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[e.jsx("p",{children:"관리자: admin@signchain.com / admin123"}),e.jsx("p",{children:"사용자: user@signchain.com / user123"})]})]})})]})})}export{W as default};
