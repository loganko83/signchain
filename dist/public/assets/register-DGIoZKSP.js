import{j as e}from"./ui-vendor-DTWk086U.js";import{u as g,r as f,L as x}from"./react-vendor-Dzt9N-8P.js";import{u as b,F as y,a as n,b as t,c as i,d as l,e as o,t as N,i as F}from"./schema-cQn62vdd.js";import{u as C}from"./api-CuCeq-4F.js";import{u as w,b as S,F as v,C as P,c as L,d as A,e as E,a as T,A as I,f as M,I as c,B as R,g as B}from"./index-D4IKHWqB.js";import"./utils-B2rm_Apj.js";function z(){const[,h]=g(),{login:j}=w(),{toast:u}=S(),[d,m]=f.useState(null),a=b({resolver:N(F),defaultValues:{username:"",email:"",password:"",name:""}}),r=C({mutationFn:async s=>(await B("POST","/api/auth/register",s)).json(),onSuccess:s=>{j(s),u({title:"회원가입 완료",description:"SignChain에 오신 것을 환영합니다!"}),h("/dashboard")},onError:s=>{m(s.message||"회원가입에 실패했습니다.")}}),p=s=>{m(null),r.mutate(s)};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"w-full max-w-md space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs(x,{href:"/",className:"inline-flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:e.jsx(v,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"SignChain"})]}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"회원가입"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["이미 계정이 있으신가요?"," ",e.jsx(x,{href:"/login",className:"font-medium text-primary hover:text-primary/80",children:"로그인"})]})]}),e.jsxs(P,{children:[e.jsxs(L,{children:[e.jsx(A,{children:"계정 만들기"}),e.jsx(E,{children:"SignChain으로 안전한 전자서명을 시작하세요"})]}),e.jsxs(T,{children:[d&&e.jsx(I,{className:"mb-6",variant:"destructive",children:e.jsx(M,{children:d})}),e.jsx(y,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(p),className:"space-y-4",children:[e.jsx(n,{control:a.control,name:"name",render:({field:s})=>e.jsxs(t,{children:[e.jsx(i,{children:"이름"}),e.jsx(l,{children:e.jsx(c,{placeholder:"이름을 입력하세요",...s,disabled:r.isPending})}),e.jsx(o,{})]})}),e.jsx(n,{control:a.control,name:"username",render:({field:s})=>e.jsxs(t,{children:[e.jsx(i,{children:"사용자명"}),e.jsx(l,{children:e.jsx(c,{placeholder:"사용자명을 입력하세요",...s,disabled:r.isPending})}),e.jsx(o,{})]})}),e.jsx(n,{control:a.control,name:"email",render:({field:s})=>e.jsxs(t,{children:[e.jsx(i,{children:"이메일"}),e.jsx(l,{children:e.jsx(c,{type:"email",placeholder:"이메일을 입력하세요",...s,disabled:r.isPending})}),e.jsx(o,{})]})}),e.jsx(n,{control:a.control,name:"password",render:({field:s})=>e.jsxs(t,{children:[e.jsx(i,{children:"비밀번호"}),e.jsx(l,{children:e.jsx(c,{type:"password",placeholder:"비밀번호를 입력하세요",...s,disabled:r.isPending})}),e.jsx(o,{})]})}),e.jsx(R,{type:"submit",className:"w-full",disabled:r.isPending,children:r.isPending?"계정 생성 중...":"계정 만들기"})]})})]})]})]})})}export{z as default};
