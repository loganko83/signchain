import{m as be,a0 as ye,j as e,O as te,n as ae,o as we,T as ie,D as le,p as Ce}from"./ui-vendor-DTWk086U.js";import{r as a,h as ke}from"./react-vendor-Dzt9N-8P.js";import{h as L,j as R,X as ne,B as i,C as j,i as B,c as S,d as T,a as z,F as Se,I as E,S as Te}from"./index-D4IKHWqB.js";import{B as M}from"./badge-DAGNXytr.js";import{C as re}from"./checkbox-C77GOkou.js";import{T as ze,a as Me,b as K,c as Q}from"./tabs-LEDdJTsh.js";import{P as ce}from"./progress-CH9oyoBg.js";import{u as de}from"./use-toast-miDmc8M5.js";import{a as Fe}from"./utils-B2rm_Apj.js";import{M as Pe}from"./menu-DYYQ1g_l.js";import{C as ee}from"./check-lTZl_lYF.js";import{L as $e,P as Le,S as Re}from"./square-C9Pq4X_g.js";import{C as oe}from"./chevron-left-CM5tyzee.js";import{C as me}from"./chevron-right-CNH5JjkO.js";import{F as xe}from"./file-pen-line-D9gI_7DQ.js";import{C as Ie}from"./clock-sJTri_w3.js";import{U as qe}from"./user-ulFgi0-m.js";import{C as De}from"./circle-alert-bj24YWXw.js";import{U as _e}from"./upload-CCkftI7T.js";import"./api-CuCeq-4F.js";import"./index-DPahxWVS.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],se=L("camera",Ae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Ee=L("maximize-2",Be);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],He=L("rotate-cw",Ue);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],he=L("zoom-in",Ve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ue=L("zoom-out",Xe),Oe=be,Ze=ye,Ye=Ce,pe=a.forwardRef(({className:l,...d},m)=>e.jsx(te,{className:R("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",l),...d,ref:m}));pe.displayName=te.displayName;const We=Fe("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),je=a.forwardRef(({side:l="right",className:d,children:m,...c},x)=>e.jsxs(Ye,{children:[e.jsx(pe,{}),e.jsxs(ae,{ref:x,className:R(We({side:l}),d),...c,children:[m,e.jsxs(we,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));je.displayName=ae.displayName;const ge=({className:l,...d})=>e.jsx("div",{className:R("flex flex-col space-y-2 text-center sm:text-left",l),...d});ge.displayName="SheetHeader";const Ne=a.forwardRef(({className:l,...d},m)=>e.jsx(ie,{ref:m,className:R("text-lg font-semibold text-foreground",l),...d}));Ne.displayName=ie.displayName;const Ge=a.forwardRef(({className:l,...d},m)=>e.jsx(le,{ref:m,className:R("text-sm text-muted-foreground",l),...d}));Ge.displayName=le.displayName;function Je({contractData:l,onFieldUpdate:d,onSubmit:m}){de();const c=a.useRef(null),[x,h]=a.useState(1),[u,g]=a.useState(100),[y,N]=a.useState(null),[I,q]=a.useState(!1),[U,w]=a.useState(!1),[f,v]=a.useState("draw"),[H,D]=a.useState(!1),[V,F]=a.useState(null),[P,_]=a.useState(!1),X=t=>{if(!c.current)return;const o=t.touches[0],b=c.current.getBoundingClientRect(),p=o.clientX-b.left,s=o.clientY-b.top,n=c.current.getContext("2d");n&&(n.beginPath(),n.moveTo(p,s),n.lineWidth=3,n.lineCap="round",n.strokeStyle="#000",D(!0),F({x:p,y:s}))},O=t=>{if(t.preventDefault(),!H||!c.current)return;const o=t.touches[0],b=c.current.getBoundingClientRect(),p=o.clientX-b.left,s=o.clientY-b.top,n=c.current.getContext("2d");n&&(n.lineTo(p,s),n.stroke(),F({x:p,y:s}))},Z=()=>{D(!1),F(null)},r=()=>{if(!c.current)return;const t=c.current.getContext("2d");t&&t.clearRect(0,0,c.current.width,c.current.height)},Y=()=>l.fields.filter(t=>t.page===x),A=()=>l.fields.filter(o=>o.completed).length/l.fields.length*100,$=()=>l.fields.every(t=>!t.required||t.completed),W=t=>{N(t.id),(t.type==="signature"||t.type==="initial")&&w(!0)},G=()=>{if(!y||!c.current)return;const o=c.current.toDataURL();d(y,o),w(!1),r()},J=t=>{h(t.page),N(t.id),_(!1),setTimeout(()=>{const o=document.getElementById(`field-${t.id}`);o==null||o.scrollIntoView({behavior:"smooth",block:"center"})},100)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[e.jsxs("div",{className:"bg-white border-b sticky top-0 z-10",children:[e.jsx("div",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Oe,{children:[e.jsx(Ze,{asChild:!0,children:e.jsx(i,{size:"icon",variant:"ghost",children:e.jsx(Pe,{className:"h-5 w-5"})})}),e.jsxs(je,{side:"left",className:"w-[300px] sm:w-[400px]",children:[e.jsx(ge,{children:e.jsx(Ne,{children:"서명 필드"})}),e.jsx("div",{className:"mt-4 space-y-2",children:l.fields.map(t=>e.jsxs("div",{className:`p-3 rounded-lg border ${t.completed?"bg-green-50 border-green-200":"bg-white"}`,onClick:()=>J(t),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[t.completed?e.jsx(ee,{className:"w-4 h-4 text-green-600"}):e.jsx("div",{className:"w-4 h-4 border rounded"}),e.jsx("span",{className:"text-sm",children:t.label})]}),e.jsxs(M,{variant:"outline",className:"text-xs",children:[t.page,"쪽"]})]}),t.required&&!t.completed&&e.jsx("p",{className:"text-xs text-red-500 mt-1 ml-6",children:"필수"})]},t.id))})]})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm font-semibold line-clamp-1",children:l.title}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[l.signerInfo.name," (",l.signerInfo.role,")"]})]})]}),e.jsxs(i,{size:"sm",variant:"ghost",onClick:()=>_(!P),children:[e.jsx($e,{className:"h-4 w-4"}),e.jsxs("span",{className:"ml-1 text-xs",children:[l.fields.filter(t=>t.completed).length,"/",l.fields.length]})]})]})}),e.jsx(ce,{value:A(),className:"h-1"})]}),e.jsxs("div",{className:"px-4 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(i,{size:"sm",variant:"outline",disabled:x===1,onClick:()=>h(x-1),children:e.jsx(oe,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-sm font-medium",children:["페이지 ",x," / ",l.totalPages]}),e.jsx(i,{size:"sm",variant:"outline",disabled:x===l.totalPages,onClick:()=>h(x+1),children:e.jsx(me,{className:"h-4 w-4"})})]}),e.jsx(j,{className:"overflow-hidden",children:e.jsxs("div",{className:"bg-white p-6 min-h-[600px] relative",style:{fontSize:`${u}%`},children:[e.jsx("h2",{className:"text-lg font-bold mb-4",children:"서비스 이용 계약서"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("p",{className:"font-semibold",children:["제",x,"조"]}),e.jsx("p",{children:"본 계약은 서비스 제공자와 이용자 간의..."})]}),Y().map(t=>e.jsx("div",{id:`field-${t.id}`,className:`absolute border-2 rounded p-2 ${t.completed?"border-green-500 bg-green-50":"border-blue-500 bg-blue-50"} ${y===t.id?"ring-2 ring-blue-400":""}`,style:{left:`${t.x}%`,top:`${t.y}%`,width:`${t.width}%`,minHeight:"40px"},onClick:()=>W(t),children:t.completed?e.jsx("div",{className:"text-xs text-center",children:t.type==="signature"||t.type==="initial"?e.jsx("img",{src:t.value,alt:"Signature",className:"h-full w-full object-contain"}):t.value}):e.jsxs("div",{className:"text-xs text-blue-600 text-center",children:[t.label,t.required&&" *"]})},t.id))]})}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mt-4",children:[e.jsx(i,{size:"sm",variant:"outline",onClick:()=>g(Math.max(75,u-25)),children:e.jsx(ue,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-sm font-medium",children:[u,"%"]}),e.jsx(i,{size:"sm",variant:"outline",onClick:()=>g(Math.min(150,u+25)),children:e.jsx(he,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(re,{checked:I,onCheckedChange:t=>q(!!t)}),e.jsx(B,{className:"text-xs",children:"전자서명이 수기 서명과 동일한 법적 효력을 가짐을 이해하고 동의합니다."})]}),e.jsxs(i,{className:"w-full",onClick:m,disabled:!$()||!I,children:[e.jsx(xe,{className:"w-4 h-4 mr-2"}),"서명 완료하기"]})]}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end z-50",children:e.jsxs(j,{className:"w-full rounded-t-2xl rounded-b-none",children:[e.jsxs(S,{className:"flex flex-row items-center justify-between",children:[e.jsx(T,{className:"text-lg",children:"서명하기"}),e.jsx(i,{size:"icon",variant:"ghost",onClick:()=>w(!1),children:e.jsx(ne,{className:"h-4 w-4"})})]}),e.jsxs(z,{className:"pb-8",children:[e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs(i,{size:"sm",variant:f==="draw"?"default":"outline",onClick:()=>v("draw"),className:"flex-1",children:[e.jsx(Le,{className:"h-4 w-4 mr-1"}),"그리기"]}),e.jsxs(i,{size:"sm",variant:f==="type"?"default":"outline",onClick:()=>v("type"),className:"flex-1",children:[e.jsx(Se,{className:"h-4 w-4 mr-1"}),"타이핑"]}),e.jsxs(i,{size:"sm",variant:f==="camera"?"default":"outline",onClick:()=>v("camera"),className:"flex-1",children:[e.jsx(se,{className:"h-4 w-4 mr-1"}),"카메라"]})]}),f==="draw"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"border-2 border-gray-200 rounded-lg overflow-hidden",children:e.jsx("canvas",{ref:c,width:350,height:150,className:"w-full bg-white touch-none",onTouchStart:X,onTouchMove:O,onTouchEnd:Z})}),e.jsx(i,{size:"sm",variant:"outline",onClick:r,className:"w-full",children:"지우기"})]}),f==="type"&&e.jsx(E,{placeholder:"서명을 입력하세요",className:"text-2xl h-16 font-script text-center",autoFocus:!0}),f==="camera"&&e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[e.jsx(se,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"서명을 촬영하세요"}),e.jsx(E,{type:"file",accept:"image/*",capture:"environment",className:"hidden",id:"camera-input"}),e.jsx(B,{htmlFor:"camera-input",children:e.jsx(i,{size:"sm",variant:"outline",asChild:!0,children:e.jsx("span",{children:"카메라 열기"})})})]})}),e.jsxs("div",{className:"flex gap-2 mt-6",children:[e.jsx(i,{variant:"outline",onClick:()=>w(!1),className:"flex-1",children:"취소"}),e.jsx(i,{onClick:G,className:"flex-1",children:"확인"})]})]})]})})]})}function fs(){const{token:l}=ke(),{toast:d}=de(),m=a.useRef(null),[c,x]=a.useState(!0),[h,u]=a.useState(1),[g,y]=a.useState(100),[N,I]=a.useState(null),[q,U]=a.useState(""),[w,f]=a.useState("");a.useState("");const[v,H]=a.useState(!1),[D,V]=a.useState(!1),[F,P]=a.useState(!1),[_,X]=a.useState("draw"),[O,Z]=a.useState(!1),[r,Y]=a.useState({id:"1",title:"서비스 이용 계약서",description:"2024년 연간 서비스 이용 계약",totalPages:3,signerInfo:{name:"김철수",email:"kim@example.com",role:"구매자"},otherSigners:[{name:"이영희",email:"lee@company.com",role:"판매자",signed:!1}],expiresAt:"2024-02-15",fields:[{id:"1",type:"signature",page:3,x:20,y:70,width:25,height:10,required:!0,label:"구매자 서명",completed:!1},{id:"2",type:"date",page:3,x:50,y:70,width:20,height:5,required:!0,label:"서명일",completed:!1},{id:"3",type:"initial",page:1,x:80,y:90,width:10,height:5,required:!0,label:"이니셜",completed:!1}]});a.useEffect(()=>{const s=()=>{Z(window.innerWidth<768)};return s(),window.addEventListener("resize",s),setTimeout(()=>{x(!1)},1e3),()=>window.removeEventListener("resize",s)},[l]);const A=s=>{I(s.id),(s.type==="signature"||s.type==="initial")&&P(!0)},$=(s,n)=>{Y(C=>({...C,fields:C.fields.map(k=>k.id===s?{...k,value:n,completed:!0}:k)}))},W=()=>{if(N){const s=r.fields.find(n=>n.id===N);(s==null?void 0:s.type)==="signature"?$(N,q):(s==null?void 0:s.type)==="initial"&&$(N,w)}P(!1)},G=s=>{if(!D||!m.current)return;const n=m.current,C=n.getContext("2d");if(!C)return;const k=n.getBoundingClientRect(),fe=s.clientX-k.left,ve=s.clientY-k.top;C.lineTo(fe,ve),C.stroke()},J=()=>{if(!m.current)return;const s=m.current,n=s.getContext("2d");n&&n.clearRect(0,0,s.width,s.height)},t=()=>r.fields.every(s=>!s.required||s.completed),o=async()=>{if(!v){d({title:"약관 동의 필요",description:"전자서명 약관에 동의해주세요.",variant:"destructive"});return}if(!t()){d({title:"필수 항목 미완료",description:"모든 필수 항목을 완료해주세요.",variant:"destructive"});return}try{await new Promise(s=>setTimeout(s,2e3)),d({title:"서명 완료",description:"계약서 서명이 완료되었습니다."})}catch{d({title:"서명 실패",description:"서명 처리 중 오류가 발생했습니다.",variant:"destructive"})}},b=()=>r.fields.filter(s=>s.page===h),p=()=>r.fields.filter(n=>n.completed).length/r.fields.length*100;return c?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ie,{className:"w-12 h-12 mx-auto mb-4 animate-spin"}),e.jsx("p",{children:"계약서를 불러오는 중..."})]})}):O?e.jsx(Je,{contractData:r,onFieldUpdate:$,onSubmit:o}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:"/logo.svg",alt:"SignChain",className:"h-8"}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-semibold",children:r.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["서명 만료일: ",new Date(r.expiresAt).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-sm text-right",children:[e.jsx("p",{className:"font-medium",children:r.signerInfo.name}),e.jsx("p",{className:"text-muted-foreground",children:r.signerInfo.role})]}),e.jsxs(M,{variant:"outline",children:[e.jsx(qe,{className:"w-3 h-3 mr-1"}),r.signerInfo.email]})]})]})})}),e.jsx("div",{className:"bg-white border-b",children:e.jsxs("div",{className:"container mx-auto px-4 py-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsx("span",{children:"진행률"}),e.jsxs("span",{children:[Math.round(p()),"%"]})]}),e.jsx(ce,{value:p(),className:"h-2"})]})}),e.jsx("div",{className:"container mx-auto px-4 py-6",children:e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[e.jsxs("div",{className:"col-span-3",children:[e.jsxs(j,{children:[e.jsx(S,{children:e.jsx(T,{className:"text-lg",children:"서명 필드"})}),e.jsx(z,{children:e.jsx("div",{className:"space-y-3",children:r.fields.map(s=>e.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${s.completed?"bg-green-50 border-green-200":"hover:bg-gray-50"}`,onClick:()=>{u(s.page),A(s)},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.completed?e.jsx(ee,{className:"w-4 h-4 text-green-600"}):e.jsx(Re,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium",children:s.label})]}),e.jsxs(M,{variant:"outline",className:"text-xs",children:[s.page,"쪽"]})]}),s.required&&!s.completed&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:"* 필수"})]},s.id))})})]}),e.jsxs(j,{className:"mt-4",children:[e.jsx(S,{children:e.jsx(T,{className:"text-lg",children:"다른 서명자"})}),e.jsx(z,{children:e.jsx("div",{className:"space-y-3",children:r.otherSigners.map((s,n)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.role})]}),s.signed?e.jsx(M,{className:"bg-green-500",children:"완료"}):e.jsx(M,{variant:"secondary",children:"대기"})]},n))})})]})]}),e.jsx("div",{className:"col-span-6",children:e.jsxs(j,{className:"h-[800px] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{size:"sm",variant:"outline",disabled:h===1,onClick:()=>u(h-1),children:e.jsx(oe,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm px-3",children:[h," / ",r.totalPages]}),e.jsx(i,{size:"sm",variant:"outline",disabled:h===r.totalPages,onClick:()=>u(h+1),children:e.jsx(me,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{size:"sm",variant:"outline",onClick:()=>y(Math.max(50,g-10)),children:e.jsx(ue,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm w-12 text-center",children:[g,"%"]}),e.jsx(i,{size:"sm",variant:"outline",onClick:()=>y(Math.min(200,g+10)),children:e.jsx(he,{className:"w-4 h-4"})}),e.jsx(i,{size:"sm",variant:"outline",children:e.jsx(He,{className:"w-4 h-4"})}),e.jsx(i,{size:"sm",variant:"outline",children:e.jsx(Ee,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto p-4 bg-gray-100",children:e.jsxs("div",{className:"bg-white shadow-lg mx-auto relative",style:{width:`${g}%`,minHeight:"1000px",padding:"60px"},children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"서비스 이용 계약서"}),e.jsxs("div",{className:"space-y-4 text-gray-700",children:[e.jsx("p",{className:"font-semibold",children:"제1조 (목적)"}),e.jsx("p",{children:'본 계약은 서비스 제공자(이하 "갑")와 서비스 이용자(이하 "을") 간의...'}),h===3&&e.jsxs("div",{className:"mt-16",children:[e.jsx("p",{className:"font-semibold mb-8",children:"제10조 (서명)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-8",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-2",children:"갑:"}),e.jsx("div",{className:"border-b border-gray-400 h-16"}),e.jsx("p",{className:"text-sm mt-1",children:"서비스 제공자"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-2",children:"을:"}),e.jsx("div",{className:"border-b border-gray-400 h-16"}),e.jsx("p",{className:"text-sm mt-1",children:"서비스 이용자"})]})]})]})]}),b().map(s=>e.jsx("div",{className:`absolute border-2 rounded cursor-pointer transition-all ${s.completed?"border-green-500 bg-green-50":"border-blue-500 bg-blue-50 hover:bg-blue-100"}`,style:{left:`${s.x}%`,top:`${s.y}%`,width:`${s.width}%`,height:`${s.height}%`},onClick:()=>A(s),children:e.jsx("div",{className:"p-2 text-center",children:s.completed?s.value||e.jsx(ee,{className:"w-4 h-4 mx-auto text-green-600"}):e.jsxs("div",{className:"text-xs text-blue-600",children:[s.label,s.required&&" *"]})})},s.id))]})})]})}),e.jsxs("div",{className:"col-span-3",children:[e.jsxs(j,{children:[e.jsx(S,{children:e.jsx(T,{className:"text-lg",children:"서명 작업"})}),e.jsxs(z,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(B,{children:"전자서명 약관 동의"}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(re,{checked:v,onCheckedChange:s=>H(!!s)}),e.jsx(B,{className:"text-sm font-normal",children:"본인은 전자서명이 수기 서명과 동일한 법적 효력을 가짐을 이해하고 동의합니다."})]})]}),e.jsxs(i,{className:"w-full",onClick:o,disabled:!t()||!v,children:[e.jsx(xe,{className:"w-4 h-4 mr-2"}),"서명 완료"]}),e.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(De,{className:"w-4 h-4 text-yellow-600 mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-yellow-900",children:"주의사항"}),e.jsx("p",{className:"text-yellow-700",children:"모든 필수 필드를 작성해야 서명을 완료할 수 있습니다."})]})]})})]})]}),e.jsxs(j,{className:"mt-4",children:[e.jsx(S,{children:e.jsx(T,{className:"text-lg",children:"블록체인 정보"})}),e.jsx(z,{children:e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"문서 해시"}),e.jsx("p",{className:"font-mono text-xs",children:"0x1234...abcd"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"네트워크"}),e.jsx("p",{children:"Xphere Mainnet"})]}),e.jsxs(M,{variant:"outline",className:"w-full justify-center",children:[e.jsx(Te,{className:"w-3 h-3 mr-1"}),"블록체인 보호"]})]})})]})]})]})}),F&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs(j,{className:"w-[500px]",children:[e.jsx(S,{children:e.jsx(T,{children:"서명하기"})}),e.jsxs(z,{children:[e.jsxs(ze,{value:_,onValueChange:s=>X(s),children:[e.jsxs(Me,{className:"grid w-full grid-cols-3",children:[e.jsx(K,{value:"draw",children:"그리기"}),e.jsx(K,{value:"type",children:"타이핑"}),e.jsx(K,{value:"upload",children:"업로드"})]}),e.jsxs(Q,{value:"draw",className:"space-y-4",children:[e.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:e.jsx("canvas",{ref:m,width:400,height:150,className:"border bg-white w-full cursor-crosshair",onMouseDown:()=>V(!0),onMouseUp:()=>V(!1),onMouseMove:G})}),e.jsx(i,{size:"sm",variant:"outline",onClick:J,children:"지우기"})]}),e.jsx(Q,{value:"type",className:"space-y-4",children:e.jsx(E,{placeholder:"서명을 입력하세요",className:"text-2xl h-16 font-script",value:q,onChange:s=>U(s.target.value)})}),e.jsx(Q,{value:"upload",className:"space-y-4",children:e.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[e.jsx(_e,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"서명 이미지를 업로드하세요"}),e.jsx(E,{type:"file",accept:"image/*",className:"mt-4"})]})})]}),e.jsxs("div",{className:"flex gap-2 mt-6",children:[e.jsx(i,{variant:"outline",onClick:()=>P(!1),className:"flex-1",children:"취소"}),e.jsx(i,{onClick:W,className:"flex-1",children:"적용"})]})]})]})})]})}export{fs as default};
