# Progress Log - 2025-07-28

## 작업 시작
- 시간: 2025-07-28 
- 목적: 프로젝트 상태 확인 및 서버 배포 준비

## 현재 프로젝트 상태

### 1. 개발 환경
- ✅ Git 저장소 초기화 완료
- ✅ GitHub 원격 저장소 연결 완료 (https://github.com/loganko83/signchain)
- ✅ 로컬 main 브랜치와 origin/main 동기화 완료
- ✅ 프론트엔드: http://localhost:5175/ (Vite)
- ✅ 백엔드 API: http://localhost:5000/ (Express)
- ✅ SendGrid API 설정 완료

### 2. 보안 문제 해결 상태 (2025-01-28 완료)
- ✅ bcrypt 해싱 적용
- ✅ 하드코딩된 사용자 ID 제거
- ✅ 암호화 키 환경변수화
- ✅ WebAuthn 설정 환경변수화
- ✅ DID 개인키 암호화 저장
- ✅ SendGrid 이메일 환경변수화

### 3. 현재 파일 상태
- .env.backup 파일이 untracked 상태로 존재
- 이외 모든 변경사항은 커밋 완료

## 오늘 작업 계획

### 1. 프로젝트 정리
- [ ] .env.backup 파일 처리 (.gitignore에 추가)
- [ ] 최신 변경사항 확인 및 커밋
- [ ] GitHub 저장소와 동기화

### 2. 서버 배포 준비
- [ ] 서버 환경 확인 (trendy.storydot.kr/signchain)
- [ ] 필요한 환경변수 설정
- [ ] 배포 스크립트 작성

### 3. 데이터베이스 설정
- [ ] PostgreSQL/Neon 설정 확인
- [ ] 데이터베이스 스키마 적용

## 진행 사항

### 1. Git 상태 확인 ✅
- Git 저장소가 이미 초기화되어 있음
- origin/main과 동기화된 상태
- .env.backup 파일만 untracked 상태

### 2. 프로젝트 정리 ✅
- .env.backup을 .gitignore에 추가 완료
- 진행 상황 문서 생성 및 커밋 완료
- GitHub에 성공적으로 푸시 완료

### 3. 서버 상태 확인 ✅
- 서버 접속 확인 완료 (SSH-MCP)
- /var/www/html/signchain 디렉토리에 프로젝트가 이미 배포되어 있음
- git pull 성공 - 최신 상태
- PM2로 signchain 프로세스 실행 중이나 재시작 반복 중 (463회)
- .env 파일이 예제 상태 - 실제 환경변수 설정 필요
- Apache 웹서버 사용 중 - signchain 설정 추가 필요

### 4. 서버 설정 작업
- [x] PM2 ecosystem 설정 파일 생성 (ecosystem.config.cjs)
- [x] 로그 디렉토리 생성
- [x] PM2 프로세스 재시작 (cluster 모드로 실행 중)
- [ ] Apache VirtualHost 설정 추가 준비
- [ ] 실제 환경변수 설정 필요
- [ ] 데이터베이스 연결 설정 필요

### 5. 다음 단계
- Apache 설정에 ProxyPass 추가하여 trendy.storydot.kr/signchain 연결
- 환경변수 설정 (DATABASE_URL, SENDGRID_API_KEY 등)
- 데이터베이스 마이그레이션 실행
- 프로덕션 빌드 및 배포 자동화 스크립트 작성

## 현재 이슈
- PM2 로그 확인 시 타임아웃 발생
- .env 파일이 예제 상태로 실제 값 설정 필요
- Apache ProxyPass 설정 추가 필요

